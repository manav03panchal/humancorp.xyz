<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Nexus</title>
        <meta
            name="description"
            content="Distributed task runner with SSH support, DAG-based dependency resolution, and parallel execution."
        />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: Helvetica, Arial, sans-serif;
                background: #e8f5e9;
                color: #000;
                min-height: 100vh;
            }

            canvas {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 0;
            }

            main {
                position: relative;
                z-index: 1;
                padding: 32px;
                min-height: 100vh;
            }

            .hero {
                display: inline-block;
                position: relative;
            }

            .ascii-title {
                font-family: monospace;
                font-size: 12px;
                line-height: 1.1;
                white-space: pre;
                overflow-x: auto;
                color: #e65100;
            }

            .tagline {
                font-family: "Space Grotesk", sans-serif;
                font-size: 18px;
                font-weight: 700;
                color: #000;
                line-height: 1.4;
                max-width: 500px;
                margin-top: 16px;
                margin-left: auto;
                text-align: right;
            }

            .cta {
                display: inline-block;
                margin-top: 24px;
                padding: 12px 24px;
                background: #000;
                color: #fff;
                text-decoration: none;
                font-family: "Space Grotesk", sans-serif;
                font-size: 14px;
                font-weight: 700;
            }

            .cta:hover {
                opacity: 0.8;
            }

            .bottom-right {
                display: flex;
                flex-direction: column;
                align-items: flex-end;
            }

            @media (max-width: 600px) {
                main {
                    padding: 24px 16px;
                }

                .ascii-title {
                    font-size: 6px;
                    overflow-x: auto;
                }

                .tagline {
                    font-size: 16px;
                    max-width: 100%;
                    text-align: left;
                }

                .bottom-right {
                    align-items: flex-start;
                }
            }
        </style>
    </head>
    <body>
        <canvas id="snake"></canvas>
        <main>
            <div class="hero">
                <pre class="ascii-title">
 ________   _______      ___    ___ ___  ___  ________
|\   ___  \|\  ___ \    |\  \  /  /|\  \|\  \|\   ____\
\ \  \\ \  \ \   __/|   \ \  \/  / | \  \\\  \ \  \___|_
 \ \  \\ \  \ \  \_|/__  \ \    / / \ \  \\\  \ \_____  \
  \ \  \\ \  \ \  \_|\ \  /     \/   \ \  \\\  \|____|\  \
   \ \__\\ \__\ \_______\/  /\   \    \ \_______\____\_\  \
    \|__| \|__|\|_______/__/ /\ __\    \|_______|\_________\
                        |__|/ \|__|             \|_________|</pre
                >
                <div class="bottom-right">
                    <p class="tagline">
                        "Declarative deployments across any machine you can SSH
                        into. No agents, no YAML, just Elixir."
                    </p>
                    <a
                        href="https://humancorp.xyz/nexus/"
                        class="cta"
                        target="_blank"
                        rel="noopener"
                        >Read the docs</a
                    >
                </div>
            </div>
        </main>

        <script>
            const canvas = document.getElementById("snake");
            const ctx = canvas.getContext("2d");

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resize();
            window.addEventListener("resize", resize);

            const gridSize = 20;
            const snakeColor = "rgba(255, 152, 0, 0.3)";

            let snake = [];
            let direction = { x: 1, y: 0 };
            let food = null;

            // Initialize snake
            function initSnake() {
                const startX = Math.floor(canvas.width / gridSize / 4);
                const startY = Math.floor(canvas.height / gridSize / 2);
                snake = [];
                for (let i = 0; i < 8; i++) {
                    snake.push({ x: startX - i, y: startY });
                }
                direction = { x: 1, y: 0 };
                spawnFood();
            }

            function spawnFood() {
                food = {
                    x: Math.floor(Math.random() * (canvas.width / gridSize)),
                    y: Math.floor(Math.random() * (canvas.height / gridSize)),
                };
            }

            function update() {
                const head = {
                    x: snake[0].x + direction.x,
                    y: snake[0].y + direction.y,
                };

                // Wrap around edges
                const maxX = Math.floor(canvas.width / gridSize);
                const maxY = Math.floor(canvas.height / gridSize);
                if (head.x < 0) head.x = maxX - 1;
                if (head.x >= maxX) head.x = 0;
                if (head.y < 0) head.y = maxY - 1;
                if (head.y >= maxY) head.y = 0;

                snake.unshift(head);

                // Check food collision
                if (food && head.x === food.x && head.y === food.y) {
                    spawnFood();
                    // Grow by not removing tail
                } else {
                    snake.pop();
                }

                // Random direction change occasionally
                if (Math.random() < 0.02) {
                    changeDirection();
                }

                // Change direction if heading toward food
                if (food && Math.random() < 0.1) {
                    const dx = food.x - head.x;
                    const dy = food.y - head.y;
                    if (Math.abs(dx) > Math.abs(dy)) {
                        if (dx > 0 && direction.x !== -1)
                            direction = { x: 1, y: 0 };
                        else if (dx < 0 && direction.x !== 1)
                            direction = { x: -1, y: 0 };
                    } else {
                        if (dy > 0 && direction.y !== -1)
                            direction = { x: 0, y: 1 };
                        else if (dy < 0 && direction.y !== 1)
                            direction = { x: 0, y: -1 };
                    }
                }
            }

            function changeDirection() {
                const dirs = [
                    { x: 1, y: 0 },
                    { x: -1, y: 0 },
                    { x: 0, y: 1 },
                    { x: 0, y: -1 },
                ];
                // Don't go backwards
                const valid = dirs.filter(
                    (d) => !(d.x === -direction.x && d.y === -direction.y),
                );
                direction = valid[Math.floor(Math.random() * valid.length)];
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Draw snake
                snake.forEach((segment, i) => {
                    const alpha = 0.4 - (i / snake.length) * 0.25;
                    ctx.strokeStyle = `rgba(255, 152, 0, ${alpha})`;
                    ctx.lineWidth = 2;
                    ctx.strokeRect(
                        segment.x * gridSize + 1,
                        segment.y * gridSize + 1,
                        gridSize - 4,
                        gridSize - 4,
                    );
                });

                // Draw food
                if (food) {
                    ctx.fillStyle = "rgba(255, 152, 0, 0.2)";
                    ctx.beginPath();
                    ctx.arc(
                        food.x * gridSize + gridSize / 2,
                        food.y * gridSize + gridSize / 2,
                        gridSize / 2 - 2,
                        0,
                        Math.PI * 2,
                    );
                    ctx.fill();
                }
            }

            function gameLoop() {
                update();
                draw();
            }

            initSnake();
            setInterval(gameLoop, 150);
        </script>
    </body>
</html>
